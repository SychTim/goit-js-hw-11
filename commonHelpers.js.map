{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst gallery = document.querySelector(\".gallery\");\nconst lightbox = new SimpleLightbox('.gallery a');\n\nfunction markUpMaker(data) {\n    if (data.hits.length\n        === 0) {\n        iziToast.show({\n            title: 'Error',\n            message: \"Sorry, there are no images matching your search query. Please try again!\",\n            backgroundColor: \"red\"\n        });\n        gallery.innerHTML = \"\";\n        return;\n    }\n    const markUp = data.hits.map(({comments, downloads, views, likes, largeImageURL, webformatURL, tags}) => {\n    return `\n        <a class=\"gallery-item\" href=\"${largeImageURL}\">\n            <img src=\"${webformatURL}\" alt=\"${tags}\">\n            <div class=\"inscriptions\">\n            <div>\n                <p class=\"insc-name\">Likes</p>\n                <p class=\"insc-value\">${likes}</p>\n            </div>\n            <div>\n                <p class=\"insc-name\">Views</p>\n                <p class=\"insc-value\">${views}</p>\n            </div>\n            <div>\n                <p class=\"insc-name\">Comments</p>\n                <p class=\"insc-value\">${comments}</p>\n            </div>\n            <div>\n                <p class=\"insc-name\">Downloads</p>\n                <p class=\"insc-value\">${downloads}</p>\n            </div>\n            </div>\n        </a>`\n        }).join(\"\");\n    gallery.innerHTML = markUp;\n\n    lightbox.refresh();\n}\n\nexport default markUpMaker;","import markUpMaker from \"./render-functions\";\n\nfunction request(key, q) {\n    fetch(`https://pixabay.com/api/?key=${key}&q=\"${q}\"&image_type=\"photo\"&orientation=\"horizontal\"&safesearch=\"true\"`)\n    .then(resp => {\n        if (!resp.ok) {\n            throw new Error(resp.status)\n        }\n\n        return resp.json();\n    })\n    .then(data => {\n        markUpMaker(data);\n    })\n    .catch(error => console.log(error))\n}\n\nexport default request;","import request from \"./js/pixabay-api\";\n\nconst form = document.querySelector(\".form\");\nconst gallery = document.querySelector(\".gallery\");\n\nconst key = \"44874409-49a696090f67a7075082072ae\";\n\nform.addEventListener(\"submit\", searchImages);\n\nfunction searchImages(evt) {\n    evt.preventDefault();\n    gallery.innerHTML = `<span class=\"loader\"></span>`;\n    \n    // const q = form.imgName.value.split(\" \").filter(word => {if (word !== \"\") {\n    //         return true;\n    //     }\n    //     return false\n    // }).join(\"+\");\n    request(key, encodeURIComponent(form.imgName.value.trim()));\n    form.imgName.value = \"\";\n}\n"],"names":["gallery","lightbox","SimpleLightbox","markUpMaker","data","iziToast","markUp","comments","downloads","views","likes","largeImageURL","webformatURL","tags","request","key","q","resp","error","form","searchImages","evt"],"mappings":"6vBAKA,MAAMA,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAW,IAAIC,EAAe,YAAY,EAEhD,SAASC,EAAYC,EAAM,CACvB,GAAIA,EAAK,KAAK,SACN,EAAG,CACPC,EAAS,KAAK,CACV,MAAO,QACP,QAAS,2EACT,gBAAiB,KAC7B,CAAS,EACDL,EAAQ,UAAY,GACpB,MACH,CACD,MAAMM,EAASF,EAAK,KAAK,IAAI,CAAC,CAAC,SAAAG,EAAU,UAAAC,EAAW,MAAAC,EAAO,MAAAC,EAAO,cAAAC,EAAe,aAAAC,EAAc,KAAAC,CAAI,IAC5F;AAAA,wCAC6BF,CAAa;AAAA,wBAC7BC,CAAY,UAAUC,CAAI;AAAA;AAAA;AAAA;AAAA,wCAIVH,CAAK;AAAA;AAAA;AAAA;AAAA,wCAILD,CAAK;AAAA;AAAA;AAAA;AAAA,wCAILF,CAAQ;AAAA;AAAA;AAAA;AAAA,wCAIRC,CAAS;AAAA;AAAA;AAAA,aAIxC,EAAE,KAAK,EAAE,EACdR,EAAQ,UAAYM,EAEpBL,EAAS,QAAO,CACpB,CC5CA,SAASa,EAAQC,EAAKC,EAAG,CACrB,MAAM,gCAAgCD,CAAG,OAAOC,CAAC,iEAAiE,EACjH,KAAKC,GAAQ,CACV,GAAI,CAACA,EAAK,GACN,MAAM,IAAI,MAAMA,EAAK,MAAM,EAG/B,OAAOA,EAAK,MACpB,CAAK,EACA,KAAKb,GAAQ,CACVD,EAAYC,CAAI,CACxB,CAAK,EACA,MAAMc,GAAS,QAAQ,IAAIA,CAAK,CAAC,CACtC,CCbA,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCnB,EAAU,SAAS,cAAc,UAAU,EAE3Ce,EAAM,qCAEZI,EAAK,iBAAiB,SAAUC,CAAY,EAE5C,SAASA,EAAaC,EAAK,CACvBA,EAAI,eAAc,EAClBrB,EAAQ,UAAY,+BAOpBc,EAAQC,EAAK,mBAAmBI,EAAK,QAAQ,MAAM,KAAM,CAAA,CAAC,EAC1DA,EAAK,QAAQ,MAAQ,EACzB"}